<!DOCTYPE html>
<html>

<head>
    <title>
        Rock Paper Scissors
    </title>
    <style>
        body {
            font-family: Arial;
            color: white;
            background-color: rgb(25, 25, 25);
        }

        .title {
            font-size: 30px;
            font-weight: bold;
        }

        .move-button {
            height: 125px;
            width: 125px;
            border-radius: 100px;
            cursor: pointer;
            border: 3px solid white;
            background-color: rgb(25, 25, 25);
            margin-right: 10px;
        }

        .move-emoji {
            height: 80px;
            width: 80px;
            object-fit: cover;
        }

        .result {
            font-weight: bold;
            font-size: 25px;
            margin-top: 50px;
        }

        .reset-score-button {
            padding: 5px 10px;
            font-size: 16px;
            cursor: pointer;
        }

        .inline-block-place {
            display: inline-block;
        }
    </style>
</head>

<body>
    <p class="title">
        Rock Paper Scissors
    </p>

    <button class="move-button" onclick="
        updateScore('rock');
    ">
        <img class="move-emoji" src="../img/rock-emoji.png">
    </button>

    <button class="move-button" onclick="
        updateScore('paper');
    ">
        <img class="move-emoji" src="../img/paper-emoji.png">
    </button>

    <button class="move-button" onclick="
        updateScore('scissors');
    ">
        <img class="move-emoji" src="../img/scissors-emoji.png">
    </button>

    <p class="result">
        <!-- Tie. -->
    </p>

    <p class="move-update inline-block-place">
        <!-- You
        <img src="../img/paper-emoji.png" class="move-emoji"> -->
    </p>

    <p class="computer-move-update inline-block-place">
        <!-- <img src="../img/paper-emoji.png" class="move-emoji">
        Computer -->
    </p>

    <p style="margin-top: 10px;" class="score">
        Wins: 0, Losses: 0, Ties: 0
    </p>

    <button class="reset-score-button" onclick="resetScore();">
        Reset Score
    </button>

    <script>
        const score = {
            wins: 0,
            losses: 0,
            ties: 0
        };

        function resetScore() {
            score.wins = 0;
            score.losses = 0;
            score.ties = 0;
            printScore();
        }

        function computerMove() {
            const move = Math.random();
            if (move <= 1 / 3) return 'rock'
            if (move <= 2 / 3) return 'paper';
            return 'scissors';
        }

        function updateScore(move) {
            const computer = computerMove();
            // console.log(move, computer);
            updateMoveIcons(move, computer);

            let result = '';

            if (computer === move) {
                result = 'Tie.';
                score.ties += 1;
            } else if (move === 'rock') {
                if (computer === 'scissors') {
                    result = 'You win.';
                    score.wins += 1;
                } else {  // paper
                    result = 'You lose.';
                    score.losses += 1;
                }
            } else if (move === 'paper') {
                if (computer === 'scissors') {
                    result = 'You lose.';
                    score.losses += 1;
                } else {  // rock
                    result = 'You win.';
                    score.wins += 1;
                }
            } else {  // scissors
                if (computer === 'paper') {
                    result = 'You win.';
                    score.wins += 1;
                } else {  // rock
                    result = 'You lose.';
                    score.losses += 1;
                }
            }

            updateResult(result);
        }

        function updateMoveIcons(move, computer) {
            if (move === 'rock') {
                document.querySelector('.move-update').innerHTML = 'You <img src = "../img/rock-emoji.png" class="move-emoji">';
            } else if (move === 'paper') {
                document.querySelector('.move-update').innerHTML = 'You <img src = "../img/paper-emoji.png" class="move-emoji">';
            } else if (move === 'scissors') {
                document.querySelector('.move-update').innerHTML = 'You <img src = "../img/scissors-emoji.png" class="move-emoji">';
            }

            if (computer === 'rock') {
                document.querySelector('.computer-move-update').innerHTML = '<img src="../img/rock-emoji.png" class="move-emoji"> Computer';
            } else if (computer === 'paper') {
                document.querySelector('.computer-move-update').innerHTML = '<img src="../img/paper-emoji.png" class="move-emoji"> Computer';
            } else if (computer === 'scissors') {
                document.querySelector('.computer-move-update').innerHTML = '<img src="../img/scissors-emoji.png" class="move-emoji"> Computer';
            }
        }

        function updateResult(result) {
            // console.log(typeof result);
            document.querySelector('.result').innerHTML = result;

            printScore();
        }

        function printScore() {
            document.querySelector('.score').innerHTML = `Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`;
        };
    </script>
</body>

</html>